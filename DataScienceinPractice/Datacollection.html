<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data Collection | Data Science in Practice</title>
  <meta name="description" content="This course is designed to introduce to students the fundamentals of Data Science with a focus on programming training. The four-day course include lectures focused on the scope and applications of Data Science, followed by modules training students in data programming. There is no prerequisite but the students are expected to bring own device (i.e. PC or Mac computers) and get hands-on in computer programming. Sample programs and instruction materials will be provided and students are recommended to install software ahead of class per instructions. Version control information: R version 4.0.2, RStudio Version 1.3.959" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data Collection | Data Science in Practice" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This course is designed to introduce to students the fundamentals of Data Science with a focus on programming training. The four-day course include lectures focused on the scope and applications of Data Science, followed by modules training students in data programming. There is no prerequisite but the students are expected to bring own device (i.e. PC or Mac computers) and get hands-on in computer programming. Sample programs and instruction materials will be provided and students are recommended to install software ahead of class per instructions. Version control information: R version 4.0.2, RStudio Version 1.3.959" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data Collection | Data Science in Practice" />
  
  <meta name="twitter:description" content="This course is designed to introduce to students the fundamentals of Data Science with a focus on programming training. The four-day course include lectures focused on the scope and applications of Data Science, followed by modules training students in data programming. There is no prerequisite but the students are expected to bring own device (i.e. PC or Mac computers) and get hands-on in computer programming. Sample programs and instruction materials will be provided and students are recommended to install software ahead of class per instructions. Version control information: R version 4.0.2, RStudio Version 1.3.959" />
  

<meta name="author" content="Karl Ho" />


<meta name="date" content="2020-07-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science in Practice</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#what-is-data"><i class="fa fa-check"></i><b>2.1</b> What is data?</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#what-is-big-data"><i class="fa fa-check"></i><b>2.2</b> What is big data?</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#illustration-the-story-of-google-flu-trend"><i class="fa fa-check"></i><b>2.3</b> Illustration: The story of Google Flu Trend</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Datacollection.html"><a href="Datacollection.html"><i class="fa fa-check"></i><b>3</b> Data Collection</a><ul>
<li class="chapter" data-level="3.1" data-path="Datacollection.html"><a href="Datacollection.html#data-production-and-collection"><i class="fa fa-check"></i><b>3.1</b> Data Production and Collection</a></li>
<li class="chapter" data-level="3.2" data-path="Datacollection.html"><a href="Datacollection.html#data-collection-showcase-twitter-data"><i class="fa fa-check"></i><b>3.2</b> Data collection showcase: Twitter data</a><ul>
<li class="chapter" data-level="3.2.1" data-path="Datacollection.html"><a href="Datacollection.html#mac"><i class="fa fa-check"></i><b>3.2.1</b> <a name="Mac"></a><strong><em>Mac</em></strong></a></li>
<li class="chapter" data-level="3.2.2" data-path="Datacollection.html"><a href="Datacollection.html#windows"><i class="fa fa-check"></i><b>3.2.2</b> <a name="Windows"></a><strong><em>Windows</em></strong></a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/datageneration/DataScienceinPractice" target="blank">Data generation</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science in Practice</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Datacollection" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data Collection</h1>
<div id="data-production-and-collection" class="section level2">
<h2><span class="header-section-number">3.1</span> Data Production and Collection</h2>
<p>Data can be classified by generation methods into two types: <strong><em>made</em></strong> data and <strong><em>found</em></strong> data. These methods include:</p>
<ol style="list-style-type: decimal">
<li>Survey</li>
<li>Experiments</li>
<li>Qualitative Data</li>
<li>Text Data</li>
<li>Web Data</li>
<li>Machine Data</li>
<li>Complex Data</li>
</ol>
<ul>
<li>Network Data</li>
<li>Multiple-source linked Data</li>
</ul>
<p>The first three methods are considered made or produced data, which go through a well-thought out design process, and data are generated by an instrument or human interviews. These methods usually go through a sampling or pre-selection mechanism, in order that the data will represent the population to a certain extent. The remaining methods are called found or collected data that are primarily extracted from other sources without an intrument or a design process. The sampling mechanism is not pre-designed and usually subject to the property of the extraction algorithm.</p>
<p>Some researchers called the former type or made data as small data and the latter the big data. Statistian Leo Breiman (2001) describe these two types of data as two cultures of statistical modeling.</p>
</div>
<div id="data-collection-showcase-twitter-data" class="section level2">
<h2><span class="header-section-number">3.2</span> Data collection showcase: Twitter data</h2>
<ol style="list-style-type: decimal">
<li>APIs (Application program interface)</li>
</ol>
<ul>
<li>API provides channels to allow an interaction with, and retrieval of, structured data.</li>
<li>Many data companies such as Facebook, Twitter and public and private organizations provide APIs for developers or users to access data directly.<br />
</li>
<li>API methods however limit users to get the data according to the company’s restrictions.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Webscraping</li>
</ol>
<ul>
<li>this method generally refers to using algorithm or simple program to obtain information directly from web pages.<br />
</li>
<li>data collected using this methods is generally raw and unstructured, meaning more data curation and clean-up are needed before data can be used.</li>
</ul>
<p>The following chart from Munzert et al. (2015) illustrates the technologies of dealing with web data:</p>
<div class="figure">
<img src="images/Technologies_for_disseminating__extracting__and_storing_web_data.png" alt="" />
<p class="caption">Source: Munzert et al. 2015.<em>Automated Data Collection with R: a Practical Guide to Web Scraping and Text Mining</em></p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Hands-on workshop: collecting Twitter data</li>
</ol>
<p>This workshop uses Python to collect Twitter data using a package by <a href="https://github.com/Jefferson-Henrique/GetOldTweets-python">Jefferson Henrique</a> and <a href="https://github.com/Mottl/GetOldTweets3">Dimtry Mottl</a>. This non-API method scrapes Twitter data based on Twitter search results by parsing the result page with a scroll loader, then calling to a JSON provider (i.e. collect data in json format). While theoretically it can search through oldest tweets and collect data accordingly, the number of variables are limited to the layout of search results.</p>
<p><a href="#Mac">Mac</a> | <a href="#Windows">Windows</a></p>
<div id="mac" class="section level3">
<h3><span class="header-section-number">3.2.1</span> <a name="Mac"></a><strong><em>Mac</em></strong></h3>
<p>Prerequesites:</p>
<ol style="list-style-type: decimal">
<li>Python3</li>
<li>Bash/terminal command line tool</li>
<li>Python pip package installer</li>
</ol>
<p>Illustration using <a href="https://pypi.org/project/GetOldTweets3/">GetOldTweets3</a>
Install Python 3.x (e.g. Anaconda3) and run the following preparation steps (creating virtual environment, install GetOldTweets3 package using pip):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="Datacollection.html#cb1-1"></a><span class="ex">python3</span> -m venv env</span>
<span id="cb1-2"><a href="Datacollection.html#cb1-2"></a><span class="bu">source</span> ./env/bin/activate </span>
<span id="cb1-3"><a href="Datacollection.html#cb1-3"></a><span class="ex">python3</span> -m pip install GetOldTweets3</span></code></pre></div>
<p>Alternatively,</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="Datacollection.html#cb2-1"></a><span class="ex">pip</span> install -e git+https://github.com/Mottl/GetOldTweets3#egg=GetOldTweets3</span></code></pre></div>
<p>There are two methods of collecting Twitter data. The GetOldTweets3 command method is recommended since the data collection process can be time-consuming.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="Datacollection.html#cb3-1"></a><span class="co">## Keyword search</span></span>
<span id="cb3-2"><a href="Datacollection.html#cb3-2"></a><span class="ex">GetOldTweets3</span> --querysearch <span class="st">&quot;Trump Kim&quot;</span> --since 2018-01-01 --until 2019-01-16 --output trumpkim.csv</span>
<span id="cb3-3"><a href="Datacollection.html#cb3-3"></a></span>
<span id="cb3-4"><a href="Datacollection.html#cb3-4"></a><span class="co">## username search with time period and size limit</span></span>
<span id="cb3-5"><a href="Datacollection.html#cb3-5"></a><span class="ex">GetOldTweets3</span> --username <span class="st">&quot;realDonaldTrump&quot;</span> --since 2016-11-01 --until 2019-03-08 --maxtweets 20000 --output rdt_2016_now.csv</span></code></pre></div>
</div>
<div id="windows" class="section level3">
<h3><span class="header-section-number">3.2.2</span> <a name="Windows"></a><strong><em>Windows</em></strong></h3>
<p>The following procedures are for Windows users (Python2.x or Python 3.x):</p>
<p>Prerequisites</p>
<ol style="list-style-type: decimal">
<li>Python installed</li>
</ol>
<ul>
<li>Install Anaconda Navigator (<a href="http://anaconda.com" class="uri">http://anaconda.com</a>)</li>
<li>Install Python3.x from python.org</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Visit the following github by Nickson Weng and download the Python package Get-Old_Tweet-Modified</li>
</ol>
<p><a href="https://github.com/NicksonWeng/Get-Old-Tweet-Modified" class="uri">https://github.com/NicksonWeng/Get-Old-Tweet-Modified</a></p>
<ol style="list-style-type: lower-alpha">
<li>Click on the “Clone or Download” green button on right side</li>
<li>Download ZIP to local folder (e.g. c:\Twitterdata)</li>
<li>Unzip the files to the folder</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li><p>Open a terminal windows by typing terminal in the “Type here to search” box. Choose the Command Prompt App</p></li>
<li><p>Change directory to c:\Twitterdata</p></li>
<li><p>Type:</p></li>
</ol>
<p>pip install -r requirements.txt</p>
<p>Perform search using the following criteria (username or keyword)</p>
<p>Examples:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="Datacollection.html#cb4-1"></a><span class="co">## Keyword search</span></span>
<span id="cb4-2"><a href="Datacollection.html#cb4-2"></a><span class="ex">python</span> Exporter.py --querysearch <span class="st">&quot;impeach&quot;</span> --maxtweets 1000 --output impeach.csv</span>
<span id="cb4-3"><a href="Datacollection.html#cb4-3"></a></span>
<span id="cb4-4"><a href="Datacollection.html#cb4-4"></a><span class="co">## username search with time period and size limit</span></span>
<span id="cb4-5"><a href="Datacollection.html#cb4-5"></a><span class="ex">python</span> Exporter.py --username <span class="st">&quot;realDonaldTrump&quot;</span> --maxtweets 100 --output dt_100.csv</span></code></pre></div>
<p>For Python 3.x, replace Exporter.py with Exporter_py3.py</p>

<p>More about this website.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["..pdf", "..epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
