<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.545">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EPPS Math and Coding Camp - EPPS Math &amp; Coding Camp</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">EPPS Math and Coding Camp</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day1.html"> 
<span class="menu-text">Day 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day2.html"> 
<span class="menu-text">Day 2</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day3.html"> 
<span class="menu-text">Day 3</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day4.html"> 
<span class="menu-text">Day 4</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day5.html"> 
<span class="menu-text">Day 5</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#preface" id="toc-preface" class="nav-link active" data-scroll-target="#preface">Preface</a>
  <ul class="collapse">
  <li><a href="#introduction-to-the-math-and-coding-camp" id="toc-introduction-to-the-math-and-coding-camp" class="nav-link" data-scroll-target="#introduction-to-the-math-and-coding-camp">Introduction to the Math and Coding Camp</a></li>
  <li><a href="#two-track-design" id="toc-two-track-design" class="nav-link" data-scroll-target="#two-track-design">Two-track Design</a></li>
  <li><a href="#day-1-assessment-and-foundations" id="toc-day-1-assessment-and-foundations" class="nav-link" data-scroll-target="#day-1-assessment-and-foundations"><strong>Day 1: Assessment and Foundations</strong></a></li>
  <li><a href="#day-2-divergence-into-tracks" id="toc-day-2-divergence-into-tracks" class="nav-link" data-scroll-target="#day-2-divergence-into-tracks"><strong>Day 2: Divergence into Tracks</strong></a></li>
  <li><a href="#days-3-5-specialized-training-in-rstata-programming" id="toc-days-3-5-specialized-training-in-rstata-programming" class="nav-link" data-scroll-target="#days-3-5-specialized-training-in-rstata-programming"><strong>Days 3-5: Specialized Training in R/Stata Programming</strong></a></li>
  <li><a href="#wrap-up-and-next-steps" id="toc-wrap-up-and-next-steps" class="nav-link" data-scroll-target="#wrap-up-and-next-steps">Wrap-Up and Next Steps</a></li>
  <li><a href="#required-texts" id="toc-required-texts" class="nav-link" data-scroll-target="#required-texts">Required Texts</a></li>
  <li><a href="#suggested-reading" id="toc-suggested-reading" class="nav-link" data-scroll-target="#suggested-reading">Suggested Reading</a></li>
  <li><a href="#online-resources" id="toc-online-resources" class="nav-link" data-scroll-target="#online-resources">Online Resources</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">EPPS Math &amp; Coding Camp</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="preface" class="level2">
<h2 class="anchored" data-anchor-id="preface">Preface</h2>
<p>EPPS Math and Coding camp is proposed to provide incoming graduate students basic math and coding training to help prepare participants to grasp the fundamental aspects of statistical modeling and programming, and data management for further developments in different disciplines. It is designed for applications across various disciplines but not to replace domain-specific research method courses.</p>
<section id="introduction-to-the-math-and-coding-camp" class="level3">
<h3 class="anchored" data-anchor-id="introduction-to-the-math-and-coding-camp">Introduction to the Math and Coding Camp</h3>
<p>This camp is designed to equip incoming graduate students from a wide range of disciplines with the essential skills needed in mathematical thinking, R/Stata programming, data management, analysis, and visualization, among others. Over five intensive days, the students will brush up algebr and calculus, learn the fundamentals of R/Stata programming to intermediate skills such as linear modeling, distributed computing, preparing students for the data-driven challenges of in respective fields.</p>
<p>The curriculum is inspired by and in some aspects adapted from the University of Chicago Harris School of Public Policy coding camp, focused on active learning, collaboration (social programming), and computational thinking. This camp is cross-disciplinary in design and aimed at providing students with a solid foundation in math, data handling and analysis techniques, crucial for your academic and professional growth.</p>
</section>
<section id="two-track-design" class="level3">
<h3 class="anchored" data-anchor-id="two-track-design">Two-track Design</h3>
<p><strong>Standard Track:</strong> Aimed at those with less background in math and programming. This track would reinforce fundamental concepts, offer more guided practice, and ensure students grasp the basic problem-solving strategies before moving onto more complex applications.</p>
<p><strong>Intermediate Track:</strong> Designed for students with a stronger foundation in mathematics and some experience in programming. This track would introduce more complex problems, offer less guidance, and expect a quicker assimilation of new concepts, focusing on the optimization of models and advanced computational techniques.</p>
</section>
<section id="day-1-assessment-and-foundations" class="level3">
<h3 class="anchored" data-anchor-id="day-1-assessment-and-foundations"><strong>Day 1: Assessment and Foundations</strong></h3>
<ul>
<li><p>Both tracks start with the same foundational sessions on Day 1, covering Linear Modeling, Systems of Equations, Nonlinear Equations, and Quadratics.</p></li>
<li><p><strong>Assessment at the End of Day 1:</strong></p>
<ul>
<li><p>The assessment should measure understanding of the day’s material and the ability to apply these concepts in problem-solving scenarios.</p></li>
<li><p>It could include a mix of multiple-choice questions, short answer problems, and a couple of longer problems that require a step-by-step solution.</p></li>
<li><p>This would help in determining each student’s track by assessing not just their knowledge, but their approach to problem-solving and logical thinking.</p></li>
</ul></li>
</ul>
</section>
<section id="day-2-divergence-into-tracks" class="level3">
<h3 class="anchored" data-anchor-id="day-2-divergence-into-tracks"><strong>Day 2: Divergence into Tracks</strong></h3>
<p><strong>Standard Track:</strong></p>
<ul>
<li><p><strong>Morning (Algebra Continued):</strong></p>
<ul>
<li><p>Review and reinforce concepts from Day 1 with additional practice problems.</p></li>
<li><p>Introduction to the concept of summation with a focus on its application in statistics.</p></li>
</ul></li>
<li><p><strong>Afternoon (Introduction to Calculus):</strong></p>
<ul>
<li><p>Begin with the basics of derivatives and integrals, emphasizing understanding over memorization.</p></li>
<li><p>Use practical examples to explain how calculus is used in optimization and modeling.</p></li>
</ul></li>
</ul>
<p><strong>Intermediate Track:</strong></p>
<ul>
<li><p><strong>Morning (Advanced Algebra and Introduction to Calculus):</strong></p>
<ul>
<li><p>A quick review of Day 1 concepts followed by complex problem-solving exercises.</p></li>
<li><p>Introduction to advanced topics in summation and their use in data analysis and statistics.</p></li>
</ul></li>
<li><p><strong>Afternoon (Advanced Calculus Topics):</strong></p>
<ul>
<li><p>Delve into derivative applications and advanced integration techniques, with an emphasis on computational methods.</p></li>
<li><p>Discuss optimization problems in greater depth, including those that might be solved using computational tools.</p></li>
</ul></li>
</ul>
</section>
<section id="days-3-5-specialized-training-in-rstata-programming" class="level3">
<h3 class="anchored" data-anchor-id="days-3-5-specialized-training-in-rstata-programming"><strong>Days 3-5: Specialized Training in R/Stata Programming</strong></h3>
<p><strong>Standard Track:</strong></p>
<ul>
<li><p>Focus on practical applications of R/Stata for basic data analysis, visualization, and simple model development.</p></li>
<li><p>Emphasize understanding the output and results, ensuring that students can interpret data and perform fundamental analyses correctly.</p></li>
<li><p>Gradual introduction to writing functions and distributed computing, with detailed walkthroughs.</p></li>
</ul>
<p><strong>Intermediate Track:</strong></p>
<ul>
<li><p>Introduce complex data management strategies, advanced visualization techniques, and statistical modeling.</p></li>
<li><p>Explore function writing in-depth, encouraging students to write efficient, reusable code.</p></li>
<li><p>Tackle distributed computing earlier and with more complexity, including hands-on exercises with real-world data sets.</p></li>
</ul>
<p><strong>End of Camp Assessment:</strong></p>
<ul>
<li><p>A final assessment or project that requires students to apply the skills they’ve learned.</p></li>
<li><p>The project could involve a dataset related to their field of study, where they need to clean, visualize, and model the data using R, applying mathematical concepts where necessary.</p></li>
<li><p>Students from the intermediate track can be tasked with more complex datasets or be required to optimize their models and code for performance.</p></li>
</ul>
<p>This structure provides a gradual learning curve for the standard track while challenging the intermediate track with faster-paced, in-depth content. The assessments not only serve to place students in the correct track but also to reinforce learning and measure progress throughout the camp.</p>
</section>
<section id="wrap-up-and-next-steps" class="level3">
<h3 class="anchored" data-anchor-id="wrap-up-and-next-steps">Wrap-Up and Next Steps</h3>
<p>On the final day, we will review key concepts, discuss how to continue learning and applying these skills in your disciplines, and provide resources for further exploration. Our goal is for students to leave the camp not only with a solid foundation in mathematical thinking and computational training in general but also with the confidence to apply these new skills to research and learning in own fields of study.</p>
<p>This plan offers a balanced mix of instruction, practical application, and interactive learning opportunities to cater to the diverse backgrounds and interests of graduate students across various disciplines. The suggested readings will provide students further preparations in different disciplines.</p>
<p>Reading list:</p>
<p>For a comprehensive coding camp focusing on R/Stata programming and data science, a well-curated list of required texts and additional suggested readings can significantly enhance the learning experience. Below is a structured list to guide students through the camp and beyond, covering introductory topics to more advanced subjects in data science.</p>
</section>
<section id="required-texts" class="level3">
<h3 class="anchored" data-anchor-id="required-texts">Required Texts</h3>
<p>Math:</p>
<ol type="1">
<li>Axler, S., 2024. <em>Linear algebra done right</em> (p.&nbsp;390). Springer Nature.</li>
</ol>
<p>Coding:</p>
<ol type="1">
<li><strong>“R for Data Science (https://r4ds.had.co.nz/)” by Hadley Wickham &amp; Garrett Grolemund</strong>
<ul>
<li>Covers data import, tidy, transformation, visualization, and modeling in R</li>
<li>An indispensable resource for beginners and intermediate users to learn and apply R in real-world data science tasks.</li>
</ul></li>
<li><strong>“Advanced R” by Hadley Wickham (https://adv-r.hadley.nz/)</strong>
<ul>
<li>Delves into advanced aspects of R programming, including functional programming, object-oriented programming, and performance enhancement techniques.</li>
<li>Essential for students interested in deepening their understanding of R and writing more efficient code.</li>
</ul></li>
</ol>
</section>
<section id="suggested-reading" class="level3">
<h3 class="anchored" data-anchor-id="suggested-reading">Suggested Reading</h3>
<p>These readings are recommended to supplement the required texts, offering broader perspectives on data science, statistical thinking, and specialized applications of R in various domains.</p>
<ol type="1">
<li><strong>“Data Visualization: A practical introduction (https://socviz.co/)” by Kieran Healy</strong>
<ul>
<li>Focuses on the principles of data visualization and how to apply them using ggplot2. A great resource for anyone looking to improve their data presentation skills.</li>
</ul></li>
<li><strong>“Text Mining with R: A Tidy Approach (https://www.tidytextmining.com/)” by Julia Silge and David Robinson</strong>
<ul>
<li>Introduces text mining and makes it accessible to data scientists and students interested in harnessing the power of textual data in R.</li>
</ul></li>
<li><strong>“Mastering Spark with R” by Javier Luraschi, Kevin Kuo, Edgar Ruiz (https://therinspark.com/)</strong>
<ul>
<li>For students interested in big data and distributed computing, this book covers how to leverage Spark from R for large-scale data analysis.</li>
</ul></li>
<li><strong>“Statistical Inference via Data Science: A ModernDive into R and the Tidyverse (https://moderndive.com/)” by Chester Ismay and Albert Y. Kim</strong>
<ul>
<li>Offers an introduction to statistical inference with an emphasis on data science principles and practices, using R and the tidyverse.</li>
</ul></li>
<li><strong>“Geocomputation with R (https://r.geocompx.org/)” by Robin Lovelace, Jakub Nowosad, Jannes Muenchow</strong>
<ul>
<li>Ideal for students with an interest in GIS, spatial data analysis, and mapping, providing a comprehensive guide to using R for geospatial analysis.</li>
</ul></li>
</ol>
</section>
<section id="online-resources" class="level3">
<h3 class="anchored" data-anchor-id="online-resources">Online Resources</h3>
<ul>
<li><p><strong>RStudio (Posit) Cheat Sheets (https://posit.co/resources/cheatsheets/)</strong> Quick reference guides for various R packages and functions.</p></li>
<li><p><strong>R-Bloggers (https://www.r-bloggers.com/)</strong> A blog aggregator that provides articles on a wide range of R-related topics, from tutorials to updates on new packages.</p></li>
<li><p><strong>CRAN Task Views (https://cran.r-project.org/web/views/)</strong> Curated lists of R packages and functions categorized by specific fields and tasks, useful for finding tools for particular data science applications.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>